@using KKCarpoolMNGMNT.Services;
@model TravelPlanDTO
@{
	ViewData["Title"] = "Please edit your plan";
}

<h1>@ViewData["Title"]</h1>

<div class="card">
	<div class="card-header">
		Edit travel plan
	</div>
	<div class="card-body">
		@using (Html.BeginForm("EditTravelPlan", "Home", FormMethod.Post))
		{
			<div class="col-md-6 offset-md-3">
				<div class="card card-body bg-light">
					<div class="form-group">
						<label asp-for="@Model.StartLocation">Start Location</label>
						<input asp-for="@Model.StartLocation" type="text" class="form-control" />
						<span asp-validation-for="@Model.StartLocation" class="text-danger"></span>
					</div>
					<div class="form-group">
						<label asp-for="@Model.EndLocation">End Location</label>
						<input asp-for="@Model.EndLocation" type="text" class="form-control" />
						<span asp-validation-for="@Model.EndLocation" class="text-danger"></span>
					</div>

					<div class="form-group">
						<label asp-for="@Model.StartDate">Start Date</label>
						<input asp-for="@Model.StartDate" type="date" class="form-control" />
						<span asp-validation-for="@Model.StartDate" class="text-danger"></span>
					</div>
					<div class="form-group">
						<label asp-for="@Model.EndDate">End Date</label>
						<input asp-for="@Model.EndDate" type="date" class="form-control" />
						<span asp-validation-for="@Model.EndDate" class="text-danger"></span>
					</div>
					<div class="form-group">
						<div class="row">
							<div class="col-md-4 mb-3">
								<label asp-for="@Model.SelectedCarPlates">Select Car</label>
								<select class="form-control" asp-for="@Model.SelectedCarPlates" asp-items="@(new SelectList(Model.ListOfCars, "Plates", "CarType"))">
									<option disabled selected>@Model.SelectedCar.Name</option>
								</select>
								@if (ViewData.ModelState.ContainsKey("CarIsFull"))
								{
									<span class="text-danger">Car is to small for the selected passengers.</span>
								}
							</div>
							<br></br>
							<div class="form-group">
								<button type="submit" class="btn btn-primary">Edit travel plan</button>
							</div>
						</div>
					</div>
				</div>
			</div>



			
		}

	</div>
</div>
